<form [formGroup]="searchForm" class="cve-search">
    <mat-form-field>
        <mat-select #type formControlName="type" placeholder="Type">
            <mat-option *ngFor="let type of types" [value]="type.value">{{type.name}}</mat-option>
        </mat-select>
    </mat-form-field>

   <div [ngSwitch]="type.value">
       <ng-container *ngSwitchCase="'id'">
           <mat-form-field>
               <input matInput type="text" placeholder="CVE-YYYY-{number}" formControlName="cveId" pattern="CVE-\d{4}-\d+" (keyup.enter)="fetchCVE()"/>
            </mat-form-field>
        </ng-container>
        <ng-container *ngSwitchCase="'product'">
            <mat-form-field>
                <input matInput type="text" placeholder="Vendor" formControlName="vendor" [matAutocomplete]="autoVendor"/>
                <mat-autocomplete #autoVendor="matAutocomplete">
                    <mat-option *ngFor="let vendor of filterdVendors | async" [value]="vendor">{{vendor}}</mat-option>
                </mat-autocomplete>
            </mat-form-field>
            <mat-form-field>
                <input matInput type="text" placeholder="Product" formControlName="product" [matAutocomplete]="autoProduct"/>
                <mat-autocomplete #autoProduct="matAutocomplete">
                    <mat-option *ngFor="let product of filterdProducts | async" [value]="product">{{product}}</mat-option>
                </mat-autocomplete>
            </mat-form-field>
       </ng-container>
    </div>
</form>  

<div class="cve-list">
    <mat-spinner *ngIf="loadingCVEList"></mat-spinner>
    <ul>
        <li *ngFor="let cve of cveList">
            <a [routerLink]="'cve/'+cve">{{cve}}</a>
        </li>
    </ul>
</div>