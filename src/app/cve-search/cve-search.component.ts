import { Component, OnInit } from '@angular/core';
import { FormControl, FormGroup } from '@angular/forms';
import { Router } from '@angular/router';

@Component({
  selector: 'app-cve-search',
  templateUrl: './cve-search.component.html',
  styleUrls: ['./cve-search.component.css']
})
export class CveSearchComponent implements OnInit {
  types = [
    {name:"Name", value: "id"}, 
    {name:"Vendor/Product", value:"product"}
  ];
  searchForm = new FormGroup({
    type: new FormControl(this.types),
    cveId: new FormControl('CVE-'),
    vendor: new FormControl(''),
    product: new FormControl('')
  });

  constructor(
    private router:Router
  ) { }

  ngOnInit() {
  }

  fetchCVE() {
    if (this.searchForm.status === "VALID") {
      this.router.navigate(['/cve', this.searchForm.value.cveId]);
    }
  }

}
